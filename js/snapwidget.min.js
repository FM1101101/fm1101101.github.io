!function(e){"use strict";function n(e,n,i){"addEventListener"in window?e.addEventListener(n,i,!1):"attachEvent"in window&&e.attachEvent("on"+n,i)}function i(e,n,i){"removeEventListener"in window?e.removeEventListener(n,i,!1):"detachEvent"in window&&e.detachEvent("on"+n,i)}function t(e){return O+"["+function(e){var n="Host page: "+e;return window.top!==window.self&&(n=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),n}(e)+"]"}function o(e){return P[e]?P[e].log:R}function r(e,n){s("log",e,n,o(e))}function a(e,n){s("info",e,n,o(e))}function c(e,n){s("warn",e,n,!0)}function s(e,n,i,o){!0===o&&"object"==typeof window.console&&console[e](t(n),i)}function d(e){function t(){o("Height"),o("Width"),p(function(){h(x),m(R),z("resizedCallback",x)},x,"init")}function o(e){var n=Number(P[R]["max"+e]),i=Number(P[R]["min"+e]),t=e.toLowerCase(),o=Number(x[t]);r(R,"Checking "+t+" is in range "+i+"-"+n),o<i&&(o=i,r(R,"Set "+t+" to min value")),o>n&&(o=n,r(R,"Set "+t+" to max value")),x[t]=""+o}function s(e){return M.substr(M.indexOf(":")+C+e)}function d(e,n){F(function(){b("Send Page Info","pageInfo:"+function(){var e=document.body.getBoundingClientRect(),n=x.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(n.top-e.top,10),offsetLeft:parseInt(n.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}(),e,n)},32)}function y(e){var n=e.getBoundingClientRect();return l(R),{x:Math.floor(Number(n.left)+Number(W.x)),y:Math.floor(Number(n.top)+Number(W.y))}}function k(e){var n=e?y(x.iframe):{x:0,y:0},i={x:Number(x.width)+n.x,y:Number(x.height)+n.y};r(R,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):c(R,"Unable to scroll to requested position, window.parentIFrame not found"):(W=i,I(),r(R,"--"))}function I(){!1!==z("scrollCallback",W)?m(R):g()}function z(e,n){return u(R,e,n)}var M=e.data,x={},R=null;"[iFrameResizerChild]Ready"===M?function(){for(var e in P)b("iFrame requested init",v(e),document.getElementById(e),e)}():O===(""+M).substr(0,T)&&M.substr(T).split(":")[0]in P?(x=function(){var e=M.substr(T).split(":");return{iframe:P[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3],documentHeight:document.body.clientHeight,documentWidth:document.body.clientWidth}}(),R=A=x.id,P[R].loaded=!0,!function(){var e=x.type in{true:1,false:1,undefined:1};return e&&r(R,"Ignoring init message from meta parent page"),e}()&&function(e){var n=!0;return P[e]||(n=!1,c(x.type+" No settings for "+e+". Message was: "+M)),n}(R)&&(r(R,"Received: "+M),function(){var e=!0;return null===x.iframe&&(c(R,"IFrame ("+x.id+") not found"),e=!1),e}()&&function(){var n=e.origin,i=P[R].checkOrigin;if(i&&""+n!="null"&&!(i.constructor===Array?function(){var e=0,t=!1;for(r(R,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===n){t=!0;break}return t}():function(){var e=P[R].remoteHost;return r(R,"Checking connection is from: "+e),n===e}()))throw new Error("Unexpected message received from: "+n+" for "+x.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(P[R].firstRun&&(P[R].firstRun=!1),x.type){case"close":f(x.iframe);break;case"message":!function(e){r(R,"MessageCallback passed: {iframe: "+x.iframe.id+", message: "+e+"}"),z("messageCallback",{iframe:x.iframe,message:JSON.parse(e)}),r(R,"--")}(s(6));break;case"scrollTo":k(!1);break;case"scrollToOffset":k(!0);break;case"pageInfo":d(P[R].iframe,R),function(){function e(e,n){function i(){P[o]?d(P[o].iframe,o):t()}["scroll","resize"].forEach(function(t){r(o,e+t+" listener for sendPageInfo"),n(window,t,i)})}function t(){e("Remove ",i)}var o=R;e("Add ",n),P[o].stopPageInfo=t}();break;case"pageInfoStop":P[R]&&P[R].stopPageInfo&&(P[R].stopPageInfo(),delete P[R].stopPageInfo);break;case"inPageLink":!function(e){var n=e.split("#")[1]||"",i=decodeURIComponent(n),t=document.getElementById(i)||document.getElementsByName(i)[0];t?function(){var e=y(t);r(R,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),W={x:e.x,y:e.y},I(),r(R,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(n):r(R,"In page link #"+n+" not found and window.parentIFrame not found"):r(R,"In page link #"+n+" not found")}(s(9));break;case"reset":w(x);break;case"init":t(),z("initCallback",x.iframe);break;default:t()}}())):a(R,"Ignored: "+M)}function u(e,n,i){var t=null,o=null;if(P[e]){if("function"!=typeof(t=P[e][n]))throw new TypeError(n+" on iFrame["+e+"] is not a function");o=t(i)}return o}function f(e){var n=e.id;r(n,"Removing iFrame: "+n),e.parentNode&&e.parentNode.removeChild(e),u(n,"closedCallback",n),r(n,"--"),delete P[n]}function l(n){null===W&&(W={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop},r(n,"Get page position: "+W.x+","+W.y))}function m(e){null!==W&&(window.scrollTo(W.x,W.y),r(e,"Set page position: "+W.x+","+W.y),g())}function g(){W=null}function w(e){r(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),l(e.id),p(function(){h(e),b("reset","reset",e.iframe,e.id)},e,"reset")}function h(e){function n(n){E||"0"!==e[n]||(E=!0,r(t,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function n(n){return"0px"===P[e].iframe.style[n]}(function(e){return null!==e.offsetParent})(P[e].iframe)&&(n("height")||n("width"))&&b("Visibility change","resize",P[e].iframe,e)}for(var n in P)e(n)}function n(n){r("window","Mutation observed: "+n[0].target+" "+n[0].type),F(e,16)}var i=window.MutationObserver||window.WebKitMutationObserver;i&&function(){var e=document.querySelector("body");new i(n).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}()}())}function i(i){(function(n){e.iframe.style[n]=e[n]+"px",r(e.id,"IFrame ("+t+") "+n+" set to "+e[n]+"px")})(i),n(i)}var t=e.iframe.id;P[t]&&(P[t].sizeHeight&&i("height"),P[t].sizeWidth&&i("width"))}function p(e,n,i){i!==n.type&&H?(r(n.id,"Requesting animation frame"),H(e)):e()}function b(e,n,i,t,o){var a=!1;t=t||i.id,P[t]&&(i&&"contentWindow"in i&&null!==i.contentWindow?function(){var o=P[t].targetOrigin;r(t,"["+e+"] Sending msg to iframe["+t+"] ("+n+") targetOrigin: "+o),i.contentWindow.postMessage(O+n,o)}():c(t,"["+e+"] IFrame("+t+") not found"),o&&P[t].warningTimeout&&(P[t].msgTimeout=setTimeout(function(){!P[t]||P[t].loaded||a||(a=!0,c(t,"IFrame has not responded within "+P[t].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},P[t].warningTimeout)))}function y(){return document.body.clientHeight+":"+document.body.clientWidth}function v(e){return e+":"+P[e].bodyMarginV1+":"+P[e].sizeWidth+":"+P[e].log+":"+P[e].interval+":"+P[e].enablePublicMethods+":"+P[e].autoResize+":"+P[e].bodyMargin+":"+P[e].heightCalculationMethod+":"+P[e].bodyBackground+":"+P[e].bodyPadding+":"+P[e].tolerance+":"+P[e].inPageLinks+":"+P[e].resizeFrom+":"+P[e].widthCalculationMethod+":"+y()}function k(i,t){var o=function(e){return A=e,""===e&&(i.id=e=function(){var e=t&&t.id||L.id+x++;return null!==document.getElementById(e)&&(e+=x++),e}(),R=(t||{}).log,A=e,r(e,"Added missing iframe ID: "+e+" ("+i.src+")")),e}(i.id);o in P&&"iFrameResizer"in i?c(o,"Ignored iFrame, already setup."):(function(e){e=e||{},P[o]={firstRun:!0,iframe:i,remoteHost:i.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(e),function(e){for(var n in L)L.hasOwnProperty(n)&&(P[o][n]=e.hasOwnProperty(n)?e[n]:L[n])}(e),P[o].targetOrigin=!0===P[o].checkOrigin?function(e){return""===e||"file://"===e?"*":e}(P[o].remoteHost):"*"}(t),function(){switch(r(o,"IFrame scrolling "+(P[o].scrolling?"enabled":"disabled")+" for "+o),i.style.overflow=!1===P[o].scrolling?"hidden":"auto",P[o].scrolling){case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=P[o].scrolling}}(),function(){function e(e){1/0!==P[o][e]&&0!==P[o][e]&&(i.style[e]=P[o][e]+"px",r(o,"Set "+e+" = "+P[o][e]+"px"))}function n(e){if(P[o]["min"+e]>P[o]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!=typeof P[o].bodyMargin&&"0"!==P[o].bodyMargin||(P[o].bodyMarginV1=P[o].bodyMargin,P[o].bodyMargin=P[o].bodyMargin+"px"),function(t){n(i,"load",function(){b("iFrame.onload",t,i,e,!0),function(){var e=P[o].firstRun,n=P[o].heightCalculationMethod in N;!e&&n&&w({iframe:i,height:0,width:0,type:"init"})}()}),b("init",t,i,e,!0)}(v(o)),Function.prototype.bind&&(P[o].iframe.iFrameResizer={close:f.bind(null,P[o].iframe),resize:b.bind(null,"Window resize","resize",P[o].iframe),moveToAnchor:function(e){b("Move to anchor","moveToAnchor:"+e,P[o].iframe,o)},sendMessage:function(e){b("Send Message","message:"+(e=JSON.stringify(e)),P[o].iframe,o)}}))}function F(e,n){null===S&&(S=setTimeout(function(){S=null,e()},n))}function I(e){r("window","Trigger event: "+e),F(function(){M("Window "+e,"resize",y())},16)}function z(){"hidden"!==document.visibilityState&&(r("document","Trigger event: Visiblity change"),F(function(){M("Tab Visable","resize",y())},16))}function M(e,n,i){function t(e){return"parent"===P[e].resizeFrom&&P[e].autoResize&&!P[e].firstRun}for(var o in P)t(o)&&b(e,n+(i?":"+i:""),document.getElementById(o),o)}if("undefined"!=typeof window){var x=0,R=!1,E=!1,C="message".length,O="[iFrameSizer]",T=O.length,W=null,H=window.requestAnimationFrame,N={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},P={},S=null,A="Host Page",L={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){c("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};if(window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,i){k(i,e)}).end()}):a("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),window.iFrameResize=window.iFrameResize||function(){function i(e,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),k(n,e),t.push(n))}var t;return function(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!H;e+=1)H=window[n[e]+"RequestAnimationFrame"];H||r("setup","RequestAnimationFrame not supported")}(),n(window,"message",d),n(window,"resize",function(){I("resize")}),n(document,"visibilitychange",z),n(document,"-webkit-visibilitychange",z),n(window,"focusin",function(){I("focus")}),n(window,"focus",function(){I("focus")}),function(n,o){switch(t=[],function(e){e&&e.enablePublicMethods&&c("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(n),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),i.bind(e,n));break;case"object":i(n,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return t}}(),!window.iFrameResize){var j=document.createElement("iframe"),q="https://snapwidget.com/utils/track/?category=Error&action=iframeresize&label="+encodeURIComponent(window.location.href);j.setAttribute("src",q),j.style.width="0",j.style.height="0",document.body.appendChild(j)}setTimeout(function(){iFrameResize({log:!1,checkOrigin:!1},".snapwidget-widget")},300)}}();
